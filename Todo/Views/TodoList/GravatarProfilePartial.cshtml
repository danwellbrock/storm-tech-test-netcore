@using Todo.Services
@using Todo.Services.Gravatar
@model Todo.Models.TodoLists.TodoListGravatarViewmodel

@{
    var profile = await GravatarApi.GetProfile(Model.Email);
}

<small>
    @if (profile != null)
    {
        @profile.DisplayName<text>&nbsp;|&nbsp;</text>@Model.Email
        <img src="@profile.Photo" class="profile-image" alt="@profile.DisplayName" />
    }
    else
    {
        @Model.Email
        <img src="/images/default_no_image.png" class="profile-image" alt="@Model.Email" />
    }
</small>